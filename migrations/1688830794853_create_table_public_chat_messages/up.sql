CREATE TABLE "public"."chat_messages" ("id" uuid NOT NULL DEFAULT gen_random_uuid(), "chat_id" uuid NOT NULL, "sender_id" uuid NOT NULL, "recipient_id" uuid NOT NULL, "owner_id" uuid NOT NULL, "content" text, "image" text, PRIMARY KEY ("id") , FOREIGN KEY ("chat_id") REFERENCES "public"."User_chat"("id") ON UPDATE no action ON DELETE no action, FOREIGN KEY ("sender_id") REFERENCES "public"."users"("user_id") ON UPDATE no action ON DELETE no action, FOREIGN KEY ("recipient_id") REFERENCES "public"."users"("user_id") ON UPDATE no action ON DELETE no action, FOREIGN KEY ("owner_id") REFERENCES "public"."users"("user_id") ON UPDATE no action ON DELETE no action);COMMENT ON TABLE "public"."chat_messages" IS E'messages for user chats';
CREATE EXTENSION IF NOT EXISTS pgcrypto;
